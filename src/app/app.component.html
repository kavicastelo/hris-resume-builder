<div [ngClass]="{'theme-light': !themeService.isDarkMode(), 'theme-dark': themeService.isDarkMode()}">

  <div class="w-100 main-body">
    <div class="header">
      <div class="logo-area" (click)="goHome()">
        <img [src]="themeService.isDarkMode() ? '/imgs/top-w.webp' : '/imgs/top-b.webp'" alt="Talnova Logo"
          class="brand-logo">
      </div>

      <div class="nav-controls">
        <!-- Theme Toggle -->
        <button class="btn-icon theme-toggle" (click)="themeService.toggleTheme()" aria-label="Toggle Theme">
          <i class="material-icons">{{ themeService.isDarkMode() ? 'light_mode' : 'dark_mode' }}</i>
        </button>

        <!-- Auth Controls -->
        <ng-container *ngIf="is_logged_in; else guestTemplate">
          <button class="btn-text" [routerLink]="['/dashboard']">Dashboard</button>
          <button class="btn-icon logout" (click)="logout()" title="Logout">
            <i class="material-icons">logout</i>
          </button>
        </ng-container>

        <ng-template #guestTemplate>
          <div class="auth-buttons">
            <button class="btn-outline" [routerLink]="['/sign/in']">Sign In</button>
            <button class="btn-primary" [routerLink]="['/sign/up']">Sign Up</button>
          </div>
        </ng-template>

        <!-- Mobile Menu Helper (Hidden on Desktop) -->
        <button class="btn-icon mobile-menu-btn d-md-none">
          <i class="material-icons">menu</i>
        </button>
      </div>
    </div>
    <router-outlet />
    <app-footer></app-footer>
  </div>

</div>
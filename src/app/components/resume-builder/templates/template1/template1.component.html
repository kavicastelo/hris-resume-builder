<div class="cv-render template-1" id="cv">
  <!-- Header / Profile -->
  <header class="cv-header">
    <div class="avatar-wrapper" *ngIf="avatar">
      <img [src]="avatar || '/imgs/default_emp_dp.svg'" alt="Avatar">
    </div>
    <div class="header-content" *ngIf="personalInfo">
      <h1 class="name">{{personalInfo.firstname}} {{personalInfo.lastname}}</h1>
      <p class="role">{{personalInfo.occupation}}</p>
      <p class="bio" *ngIf="personalInfo.bio">{{personalInfo.bio}}</p>

      <div class="contact-info">
        <span *ngIf="personalInfo.email" class="contact-item">
          <i class="material-icons">email</i> {{personalInfo.email}}
        </span>
        <span *ngIf="personalInfo.phone" class="contact-item">
          <i class="material-icons">phone</i> {{personalInfo.phone}}
        </span>
        <span *ngIf="personalInfo.city || personalInfo.country" class="contact-item">
          <i class="material-icons">location_on</i> {{personalInfo.city}}{{personalInfo.city && personalInfo.country ?
          ', ' : ''}}{{personalInfo.country}}
        </span>
        <span *ngIf="personalInfo.dob" class="contact-item">
          <i class="material-icons">cake</i> {{personalInfo.dob}}
        </span>
      </div>
    </div>
  </header>

  <div class="cv-body">
    <!-- Left Column (Main Content) -->
    <div class="main-column">

      <!-- Experience -->
      <section class="cv-section" *ngIf="experiences.length > 0">
        <h2 class="section-title">Experience</h2>
        <div class="timeline">
          <div class="timeline-item" *ngFor="let e of experiences">
            <div class="timeline-dot"></div>
            <div class="item-header">
              <h3 class="item-title">{{e.occupation}}</h3>
              <span class="item-date">{{e.startDate}} - {{e.endDate}}</span>
            </div>
            <h4 class="item-subtitle">{{e.organization}} <span *ngIf="e.country">| {{e.country}}</span></h4>
            <p class="item-description">{{e.description}}</p>
          </div>
        </div>
      </section>

      <!-- Education -->
      <section class="cv-section" *ngIf="education.length > 0">
        <h2 class="section-title">Education</h2>
        <div class="timeline">
          <div class="timeline-item" *ngFor="let e of education">
            <div class="timeline-dot"></div>
            <div class="item-header">
              <h3 class="item-title">{{e.degree}}</h3>
              <span class="item-date">{{e.startDate}} - {{e.endDate}}</span>
            </div>
            <h4 class="item-subtitle">{{e.school}} <span *ngIf="e.country">| {{e.country}}</span></h4>
            <p class="item-description">{{e.description}}</p>
          </div>
        </div>
      </section>

      <!-- Projects -->
      <section class="cv-section" *ngIf="projects.length > 0">
        <h2 class="section-title">Projects</h2>
        <div class="grid-list">
          <div class="grid-item" *ngFor="let p of projects">
            <h3 class="item-title">{{p.name}}</h3>
            <h4 class="item-subtitle">{{p.role}} | {{p.startDate}} - {{p.endDate}}</h4>
            <div class="links" *ngIf="p.demo || p.source">
              <a *ngIf="p.demo" [href]="p.demo" target="_blank" class="link-item">Live Demo</a>
              <a *ngIf="p.source" [href]="p.source" target="_blank" class="link-item">Source Code</a>
            </div>
            <p class="item-description">{{p.description}}</p>
          </div>
        </div>
      </section>
    </div>

    <!-- Right Column (Sidebar Content) -->
    <div class="side-column">

      <!-- Skills -->
      <section class="cv-section" *ngIf="skills.length > 0">
        <h2 class="section-title">Skills</h2>
        <div class="skills-list">
          <div class="skill-item" *ngFor="let s of skills">
            <span class="skill-name">{{s.skill}}</span>
            <div class="skill-bar-wrapper">
              <div class="skill-bar" [style.width.%]="s.percentage || 100"></div>
            </div>
          </div>
        </div>
      </section>

      <!-- Certifications -->
      <section class="cv-section" *ngIf="certificates.length > 0">
        <h2 class="section-title">Certifications</h2>
        <div class="cert-list">
          <div class="cert-item" *ngFor="let c of certificates">
            <h3 class="cert-name">{{c.name}}</h3>
            <p class="cert-org">{{c.organization}}</p>
            <p class="cert-date">{{c.date}}</p>
            <a *ngIf="c.certificateUrl" [href]="c.certificateUrl" target="_blank" class="cert-link">View Certificate</a>
          </div>
        </div>
      </section>

      <!-- Languages -->
      <section class="cv-section" *ngIf="languages.length > 0">
        <h2 class="section-title">Languages</h2>
        <ul class="simple-list">
          <li *ngFor="let l of languages">
            <strong>{{l.name}}</strong>
            <span class="sub-text">{{l.level}}</span>
          </li>
        </ul>
      </section>

      <!-- Hobbies -->
      <section class="cv-section" *ngIf="hobbies.length > 0">
        <h2 class="section-title">Interests</h2>
        <div class="tags-container">
          <span class="tag" *ngFor="let h of hobbies">{{h.name}}</span>
        </div>
      </section>

      <!-- References -->
      <section class="cv-section" *ngIf="references.length > 0">
        <h2 class="section-title">References</h2>
        <div class="ref-list">
          <div class="ref-item" *ngFor="let r of references">
            <h3 class="ref-name">{{r.name}}</h3>
            <p class="ref-company">{{r.company}}</p>
            <a [href]="'mailto:' + r.email" class="ref-link">{{r.email}}</a>
            <a [href]="'tel:' + r.phone" class="ref-link">{{r.phone}}</a>
          </div>
        </div>
      </section>

    </div>
  </div>
</div>
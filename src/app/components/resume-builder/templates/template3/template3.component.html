<div class="cv-render template-3" id="cv">
  <!-- Minimalist Header -->
  <header class="cv-header">
    <div class="header-main">
      <h1 class="name" *ngIf="personalInfo">
        <span class="first">{{personalInfo.firstname}}</span>
        <span class="last">{{personalInfo.lastname}}</span>
      </h1>
      <p class="role" *ngIf="personalInfo">{{personalInfo.occupation}}</p>
    </div>

    <div class="header-side">
      <div class="contact-grid" *ngIf="personalInfo">
        <span *ngIf="personalInfo.email">{{personalInfo.email}}</span>
        <span *ngIf="personalInfo.phone">{{personalInfo.phone}}</span>
        <span *ngIf="personalInfo.city || personalInfo.country">{{personalInfo.city}}{{personalInfo.city &&
          personalInfo.country ? ', ' : ''}}{{personalInfo.country}}</span>
        <span *ngIf="personalInfo.dob">{{personalInfo.dob}}</span>
      </div>
    </div>
  </header>

  <!-- Bio / Intro -->
  <section class="intro-section" *ngIf="personalInfo && personalInfo.bio">
    <div class="section-label">Profile</div>
    <div class="section-content">
      <p class="bio-text">{{personalInfo.bio}}</p>
    </div>
  </section>

  <!-- Experience -->
  <section class="cv-section" *ngIf="experiences.length > 0">
    <div class="section-label">Experience</div>
    <div class="section-content">
      <div class="timeline-entry" *ngFor="let e of experiences">
        <div class="entry-meta">
          <span class="entry-date">{{e.startDate}} — {{e.endDate}}</span>
          <span class="entry-org">{{e.organization}}</span>
          <span class="entry-loc" *ngIf="e.country">{{e.country}}</span>
        </div>
        <div class="entry-main">
          <h3 class="entry-role">{{e.occupation}}</h3>
          <p class="entry-desc">{{e.description}}</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Education -->
  <section class="cv-section" *ngIf="education.length > 0">
    <div class="section-label">Education</div>
    <div class="section-content">
      <div class="timeline-entry" *ngFor="let e of education">
        <div class="entry-meta">
          <span class="entry-date">{{e.startDate}} — {{e.endDate}}</span>
          <span class="entry-org">{{e.school}}</span>
          <span class="entry-loc" *ngIf="e.country">{{e.country}}</span>
        </div>
        <div class="entry-main">
          <h3 class="entry-role">{{e.degree}}</h3>
          <p class="entry-desc">{{e.description}}</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Skills -->
  <section class="cv-section" *ngIf="skills.length > 0">
    <div class="section-label">Skills</div>
    <div class="section-content">
      <div class="skills-grid">
        <div class="skill-tag" *ngFor="let s of skills">
          {{s.skill}} <span class="skill-dot" *ngIf="s.percentage" [style.opacity]="s.percentage / 100">●</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Projects -->
  <section class="cv-section" *ngIf="projects.length > 0">
    <div class="section-label">Projects</div>
    <div class="section-content">
      <div class="project-grid">
        <div class="project-card" *ngFor="let p of projects">
          <h3 class="project-title">{{p.name}} <span class="project-role-tag">{{p.role}}</span></h3>
          <p class="project-desc">{{p.description}}</p>
          <div class="project-links" *ngIf="p.demo || p.source">
            <a *ngIf="p.demo" [href]="p.demo">View Demo ↗</a>
            <a *ngIf="p.source" [href]="p.source">Source ↗</a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Certificates, Languages, Hobbies, References (Grid) -->
  <section class="cv-section multi-section"
    *ngIf="certificates.length > 0 || languages.length > 0 || hobbies.length > 0 || references.length > 0">
    <div class="section-label">Misc</div>
    <div class="section-content grid-misc">

      <!-- Languages -->
      <div class="misc-group" *ngIf="languages.length > 0">
        <h4>Languages</h4>
        <ul>
          <li *ngFor="let l of languages">{{l.name}} <span class="faded">/ {{l.level}}</span></li>
        </ul>
      </div>

      <!-- Hobbies -->
      <div class="misc-group" *ngIf="hobbies.length > 0">
        <h4>Interests</h4>
        <div class="comma-list">
          <span *ngFor="let h of hobbies">{{h.name}}</span>
        </div>
      </div>

      <!-- Certificates -->
      <div class="misc-group" *ngIf="certificates.length > 0">
        <h4>Certifications</h4>
        <ul>
          <li *ngFor="let c of certificates">
            <a [href]="c.certificateUrl ? c.certificateUrl : '#'" class="clean-link">{{c.name}}</a>
            <span class="faded"> — {{c.organization}}</span>
          </li>
        </ul>
      </div>

      <!-- References -->
      <div class="misc-group" *ngIf="references.length > 0">
        <h4>References</h4>
        <div *ngFor="let r of references" class="ref-mini">
          <strong>{{r.name}}</strong>, {{r.company}}
        </div>
      </div>

    </div>
  </section>
</div>
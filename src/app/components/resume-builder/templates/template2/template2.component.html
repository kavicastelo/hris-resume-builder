<div class="cv-render template-2" id="cv">
  <div class="cv-grid">
    <!-- Left Sidebar (Dark/Colored Background) -->
    <aside class="sidebar">
      <div class="profile-section">
        <div class="avatar-wrapper" *ngIf="avatar">
          <img [src]="avatar || '/imgs/default_emp_dp.svg'" alt="Avatar">
        </div>
        <h1 class="name" *ngIf="personalInfo">{{personalInfo.firstname}}<br>{{personalInfo.lastname}}</h1>
        <p class="role" *ngIf="personalInfo">{{personalInfo.occupation}}</p>
      </div>

      <div class="sidebar-content">
        <!-- Contact Information -->
        <section class="sidebar-item" *ngIf="personalInfo">
          <h2 class="sidebar-title">Contact</h2>
          <ul class="contact-list">
            <li *ngIf="personalInfo.email">
              <i class="material-icons">email</i> {{personalInfo.email}}
            </li>
            <li *ngIf="personalInfo.phone">
              <i class="material-icons">phone</i> {{personalInfo.phone}}
            </li>
            <li *ngIf="personalInfo.city || personalInfo.country">
              <i class="material-icons">location_on</i> {{personalInfo.city}}{{personalInfo.city && personalInfo.country
              ? ', ' : ''}}{{personalInfo.country}}
            </li>
            <li *ngIf="personalInfo.dob">
              <i class="material-icons">cake</i> {{personalInfo.dob}}
            </li>
          </ul>
        </section>

        <!-- Skills -->
        <section class="sidebar-item" *ngIf="skills.length > 0">
          <h2 class="sidebar-title">Skills</h2>
          <div class="skills-wrapper">
            <div class="skill-entry" *ngFor="let s of skills">
              <div class="skill-label">
                <span>{{s.skill}}</span>
              </div>
              <div class="skill-bar-container">
                <div class="skill-bar" [style.width.%]="s.percentage || 100"></div>
              </div>
            </div>
          </div>
        </section>

        <!-- Languages -->
        <section class="sidebar-item" *ngIf="languages.length > 0">
          <h2 class="sidebar-title">Languages</h2>
          <ul class="info-list">
            <li *ngFor="let l of languages">
              <span class="info-label">{{l.name}}</span>
              <span class="info-value">{{l.level}}</span>
            </li>
          </ul>
        </section>

        <!-- Hobbies -->
        <section class="sidebar-item" *ngIf="hobbies.length > 0">
          <h2 class="sidebar-title">Interests</h2>
          <div class="tag-cloud">
            <span class="tag" *ngFor="let h of hobbies">{{h.name}}</span>
          </div>
        </section>
      </div>
    </aside>

    <!-- Main Content Area -->
    <main class="main-content">
      <!-- About Me -->
      <section class="main-section" *ngIf="personalInfo && personalInfo.bio">
        <h2 class="section-title">About Me</h2>
        <p class="bio-text">{{personalInfo.bio}}</p>
      </section>

      <!-- Experience -->
      <section class="main-section" *ngIf="experiences.length > 0">
        <h2 class="section-title">Work Experience</h2>
        <div class="content-list">
          <div class="content-item" *ngFor="let e of experiences">
            <div class="item-header">
              <h3 class="item-role">{{e.occupation}}</h3>
              <span class="item-org">{{e.organization}}</span>
            </div>
            <div class="item-meta">
              <span class="item-date">{{e.startDate}} - {{e.endDate}}</span>
              <span class="item-loc" *ngIf="e.country"> | {{e.country}}</span>
            </div>
            <p class="item-desc">{{e.description}}</p>
          </div>
        </div>
      </section>

      <!-- Education -->
      <section class="main-section" *ngIf="education.length > 0">
        <h2 class="section-title">Education</h2>
        <div class="content-list">
          <div class="content-item" *ngFor="let e of education">
            <div class="item-header">
              <h3 class="item-role">{{e.degree}}</h3>
              <span class="item-org">{{e.school}}</span>
            </div>
            <div class="item-meta">
              <span class="item-date">{{e.startDate}} - {{e.endDate}}</span>
              <span class="item-loc" *ngIf="e.country"> | {{e.country}}</span>
            </div>
            <p class="item-desc">{{e.description}}</p>
          </div>
        </div>
      </section>

      <!-- Projects -->
      <section class="main-section" *ngIf="projects.length > 0">
        <h2 class="section-title">Projects</h2>
        <div class="projects-grid">
          <div class="project-card" *ngFor="let p of projects">
            <h3 class="project-name">{{p.name}}</h3>
            <p class="project-role">{{p.role}}</p>
            <p class="project-desc">{{p.description}}</p>
            <div class="project-links" *ngIf="p.demo || p.source">
              <a *ngIf="p.demo" [href]="p.demo" target="_blank">Demo</a>
              <a *ngIf="p.source" [href]="p.source" target="_blank">Code</a>
            </div>
          </div>
        </div>
      </section>

      <!-- Certificates -->
      <section class="main-section" *ngIf="certificates.length > 0">
        <h2 class="section-title">Certifications</h2>
        <ul class="cert-list">
          <li *ngFor="let c of certificates">
            <div class="cert-info">
              <strong class="cert-name">{{c.name}}</strong>
              <span class="cert-org">{{c.organization}} Â· {{c.date}}</span>
            </div>
            <a *ngIf="c.certificateUrl" [href]="c.certificateUrl" target="_blank" class="cert-link">View</a>
          </li>
        </ul>
      </section>

      <!-- References -->
      <section class="main-section" *ngIf="references.length > 0">
        <h2 class="section-title">References</h2>
        <div class="ref-grid">
          <div class="ref-card" *ngFor="let r of references">
            <h4 class="ref-name">{{r.name}}</h4>
            <span class="ref-comp">{{r.company}}</span>
            <div class="ref-contact">
              <a [href]="'mailto:'+r.email">{{r.email}}</a>
              <a [href]="'tel:'+r.phone">{{r.phone}}</a>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>
</div>